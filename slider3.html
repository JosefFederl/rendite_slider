<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
.slidecontainer {
  width: 100%;
}
#PerAnno, #PerAnno_Rebalanced {
   background-color: #9999FF;
}
span, input { 
  font-size: 3em;
  text-align: right;
}
.slider {
  -webkit-appearance: none;
  width: 80%;
  height: 30px;
  border-radius: 5px;
  background: #d3d3d3;
  outline: none;
  opacity: 0.7;
  -webkit-transition: .2s;
  transition: opacity .2s;
}
.slider:hover {
  opacity: 1;
}
.slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 25px;
  height: 25px;
  border-radius: 50%;
  background: #4CAF50;
  cursor: pointer;
}
.slider::-moz-range-thumb {
  width: 25px;
  height: 25px;
  border-radius: 50%;
  background: #4CAF50;
  cursor: pointer;
}
table {
  border-spacing: 5px;
  border: 1px solid black;
  border-collapse: collapse;
  width: 100%;
}
th, td {
  padding: 15px;
  font-size: xx-large;
}

</style>
</head>
<body>

<h3>Return on Investment</h3>
<input id="years" value="10" size="5">years
<p>Average   <span id="Average">100</span> ___ <span id="PerAnno">0</span>SteigerungsFaktor_perAnno (geometrischesMittel)</p>

Weight
<div class="slidecontainer">
<span id="g1">8.33</span><input type="range" min="1" max="500" value="100" class="slider" id="s1"><span id="w1">100</span><br>
<span id="g2">8.33</span><input type="range" min="1" max="500" value="100" class="slider" id="s2"><span id="w2">100</span><br>
<span id="g3">8.33</span><input type="range" min="1" max="500" value="100" class="slider" id="s3"><span id="w3">100</span><br>
<span id="g4">8.33</span><input type="range" min="1" max="500" value="100" class="slider" id="s4"><span id="w4">100</span><br>
<span id="g5">8.33</span><input type="range" min="1" max="500" value="100" class="slider" id="s5"><span id="w5">100</span><br>
<span id="g6">8.33</span><input type="range" min="1" max="500" value="100" class="slider" id="s6"><span id="w6">100</span><br>
<span id="g7">8.33</span><input type="range" min="1" max="500" value="100" class="slider" id="s7"><span id="w7">100</span><br>
<span id="g8">8.33</span><input type="range" min="1" max="500" value="100" class="slider" id="s8"><span id="w8">100</span><br>
<span id="g9">8.33</span><input type="range" min="1" max="500" value="100" class="slider" id="s9"><span id="w9">100</span><br>
<span id="g10">8.33</span><input type="range" min="1" max="500" value="100" class="slider" id="s10"><span id="w10">100</span><br>
<span id="g11">8.33</span><input type="range" min="1" max="500" value="100" class="slider" id="s11"><span id="w11">100</span><br>
<span id="g12">8.33</span><input type="range" min="1" max="500" value="100" class="slider" id="s12"><span id="w12">100</span><br>
</div>

<p>Rebalanced<span id="Rebalanced">100</span> ___ <span id="PerAnno_Rebalanced">0</span>SteigerungsFaktor_perAnno (geometrischesMittel)</p>

<script>
var Average = document.getElementById("Average");
var Rebalanced = document.getElementById("Rebalanced");

var s1 = document.getElementById("s1");
var s2 = document.getElementById("s2");
var s3 = document.getElementById("s3");
var s4 = document.getElementById("s4");
var s5 = document.getElementById("s5");
var s6 = document.getElementById("s6");
var s7 = document.getElementById("s7");
var s8 = document.getElementById("s8");
var s9 = document.getElementById("s9");
var s10 = document.getElementById("s10");
var s11 = document.getElementById("s11");
var s12 = document.getElementById("s12");

var years;

document.getElementById("PerAnno").onclick = function() {
  years = parseInt(document.getElementById("years").value);
  document.getElementById("PerAnno").innerHTML = Math.pow(parseInt(Average.innerHTML)/100, 1/years);
}
document.getElementById("PerAnno_Rebalanced").onclick = function() {
  years = parseInt(document.getElementById("years").value);
  document.getElementById("PerAnno_Rebalanced").innerHTML = Math.pow(parseInt(zinssumme)/100, 1/years);
}

function durchschnitt() {
Average.innerHTML = (( parseInt(s1.value) + parseInt(s2.value) + parseInt(s3.value) + parseInt(s4.value) + parseInt(s5.value) + parseInt(s6.value) + parseInt(s7.value) + parseInt(s8.value) + parseInt(s9.value) + parseInt(s10.value) + parseInt(s11.value) + parseInt(s12.value) ) / 12 ).toFixed(1);

var gesamtper = parseInt(s1.value) + parseInt(s2.value) + parseInt(s3.value) + parseInt(s4.value) + parseInt(s5.value) + parseInt(s6.value) + parseInt(s7.value) + parseInt(s8.value) + parseInt(s9.value) + parseInt(s10.value) + parseInt(s11.value) + parseInt(s12.value) ;

var anteils1 = parseInt(s1.value) / (gesamtper / 100);
g1.innerHTML = anteils1.toFixed(2);
var anteils2 = parseInt(s2.value) / (gesamtper / 100);
g2.innerHTML = anteils2.toFixed(2);
var anteils3 = parseInt(s3.value) / (gesamtper / 100);
g3.innerHTML = anteils3.toFixed(2);
var anteils4 = parseInt(s4.value) / (gesamtper / 100);
g4.innerHTML = anteils4.toFixed(2);
var anteils5 = parseInt(s5.value) / (gesamtper / 100);
g5.innerHTML = anteils5.toFixed(2);
var anteils6 = parseInt(s6.value) / (gesamtper / 100);
g6.innerHTML = anteils6.toFixed(2);
var anteils7 = parseInt(s7.value) / (gesamtper / 100);
g7.innerHTML = anteils7.toFixed(2);
var anteils8 = parseInt(s8.value) / (gesamtper / 100);
g8.innerHTML = anteils8.toFixed(2);
var anteils9 = parseInt(s9.value) / (gesamtper / 100);
g9.innerHTML = anteils9.toFixed(2);
var anteils10 = parseInt(s10.value) / (gesamtper / 100);
g10.innerHTML = anteils10.toFixed(2);
var anteils11 = parseInt(s11.value) / (gesamtper / 100);
g11.innerHTML = anteils11.toFixed(2);
var anteils12 = parseInt(s12.value) / (gesamtper / 100);
g12.innerHTML = anteils12.toFixed(2);

}

s1.oninput = function() {
  w1.innerHTML = s1.value;
  durchschnitt();
}
s2.oninput = function() {
  w2.innerHTML = s2.value;
durchschnitt();
}
s3.oninput = function() {
  w3.innerHTML = s3.value;
durchschnitt();
}
s4.oninput = function() {
  w4.innerHTML = s4.value;
durchschnitt();
}
s5.oninput = function() {
  w5.innerHTML = s5.value;
durchschnitt();
}
s6.oninput = function() {
  w6.innerHTML = s6.value;
durchschnitt();
}
s7.oninput = function() {
  w7.innerHTML = s7.value;
durchschnitt();
}
s8.oninput = function() {
  w8.innerHTML = s8.value;
durchschnitt();
}
s9.oninput = function() {
  w9.innerHTML = s9.value;
durchschnitt();
}
s10.oninput = function() {
  w10.innerHTML = s10.value;
durchschnitt();
}
s11.oninput = function() {
  w11.innerHTML = s11.value;
durchschnitt();
}
s12.oninput = function() {
  w12.innerHTML = s12.value;
durchschnitt();
}

let performences = [
  ["wti",      78.00,   15.10,   8.15,  -7.08,   6.90,  -45.55,  -30.53,  44.76,  12.48, -25.32 ],
  ["brent",    117.50,  19.66,   15.94,  2.51,  -0.77,  -49.73,  -32.55,  52.41,  17.44, -24.22 ],
  ["benzin",    77.39,  20.02,   15.10,  1.06,  -6.31,  -49.06,  -17.64,  44.64,  17.28, -24.73 ],
  ["erdg",       3.37, -27.49,  -29.38, 15.10,  25.66,  -27.15,  -27.39,  62.72,  -0.54, -11.92 ],
  ["gold",      30.19,  21.69,   21.58,  1.06,  25.57,    0.51,   12.22,   7.90,  11.67,  -3.06 ],
  ["silber",    57.49,  37.75,    7.5,   1.32, -36.00,   15.31,  -18.15,   16.5,   1.36,  -9.66 ],
  ["platin",    62.69,  20.12,  -22.85, 12.78, -11.13,  -11.13,  -26.07,   1.30,   3.81,  -14.70],
  ["palladium", 113.51, 102.53, -18.63,  8.29,   1.13,   13.46,  -30.41,  20.96,  55.81,   12.84],
  ["kupfer",    137.58,  32.99, -22.73,  6.26,  -6.70,  -16.95,  -24.57,  17.38,  31.65,  -20.20],
  ["zink",      105.02,  -2.65, -16.43,  2.47,   0.32,   3.74,    -39.00,  78.56,  21.11, -25.33 ],
  ["blei",      109.08,  9.85, -19.43,  11.33,  -8.16,  -13.99,  -10.67,  36.49,  15.17,  -22.71 ],
  ["alu",        58.17,  9.14, -12.10,  -4.96,  -15.22,   5.05,  -18.38,  20.93,  23.36,  -16.11 ],
  ["average",        0,     0,      0,      0,       0,      0,       0,      0,      0,      0 ],
];

//var avg = [1,2,3,4,5,6,7,8,9,10];

var zinssumme = 100;

for( var i = 1; i <= 10 ; i++ ){ // 10x druchlauf 1x pro Spalte
    var sum = 0;
    for( var a = 1; a <= 12; a++ ){
        sum += performences[a][i]; 
	}
    performences[12][i] = (sum/performences.length).toFixed(2);
zinssumme = zinssumme + zinssumme * (performences[12][i] / 100);
}


//performences.push(['average', avg[0], avg[1], avg[2], avg[3], avg[4], avg[5], avg[6], avg[7], avg[8], avg[9]]);

//  Tabelle in body rein machen.....:
let table = document.createElement('table');
for (let row of performences) {
  table.insertRow();
  for (let cell of row) {
    let newCell = table.rows[table.rows.length - 1].insertCell();
    newCell.textContent = cell;
  }
}
document.body.appendChild(table);
document.write('<h1> Prozentuale Gesamt perf. : ' + zinssumme.toFixed(2) + '</h1>');
Rebalanced.innerHTML = zinssumme.toFixed(2);
</script>

</body>
